# API

## Семинар + ДЗ№1

### Теория

1. [Что такое API?](../API.md) прочитать материал до части Tutorial

2. [Прочитать инструкцию для создания GET, POST, PUT, DELETE API средствами Oracle](../OracleAPI)

3. Для GET запроса сделать html файл для вывода на web-странице. Пример в /OracleAPI/1. Hello World

### Задания

**Примечание**: задания этого раздела включают в себя не только базы данных, а ещё немного html и javascript. Красивое отображение и размещение элементов, а также использование CSS не требуется, т.к. не является необходимым на этом курсе, но приветствуется. Этой части не будет уделено времени на семинарских занятиях, но посмотреть самостоятельно и задавать вопросы по этой теме тоже можно.

1. Написать собственный GET API в Oracle, как это сделано указано в инструкции (пункт 2 в теории) для получения всех животных и получения конкретного животного

2. Изучите код (пункт 3 в теории). Обратите внимание на отличие 1 файла от 2-го. В 1-ом случае информация выводится в консоль. Чтобы её открыть нажмите на F12 в браузере и в открывшемся окне нажмите console. Поменяйте ссылку, указанную в коде на вашу (GET API, созданный в Oracle). После нажатия на кнопку в консоли должны отобразиться данные.

3. Изучите второй файл (index2.html). Посмотрите на отличия в коде и на отличия в работе от 1 программы.

4. Допишите код, чтобы вывести на экран больше информации о животных.

5. Создайте в Oracle API POST - позволяющее добавлять новое животное. Подробную информацию можно найти в OracleAPI/Readme.md. Для комфортной работы установите Visual Studio Code и установите расширение - REST Client (вкладка слева). После установки появится кнопочка reload - нажмите на неё. Создайте файл с расширением .http примеры разных запросов можно найти в OracleAPI/0. Insert animals. Запустите написанный запрос, если status равен тому, что вы написали при создании API в Oracle - 200 или 201, то всё хорошо. Если 500 - ошибка либо в самом API, либо в отправленном запросе.

6. Создайте PUT, DELETE API, проверьте их аналогично с 5 пунктом.

## Семинар №2 + ДЗ

### Теория №2

1. [Введение в HTML](../HTML)

2. [Введение в JS](../JS)

**Примечание:** в этой части нужно изучить некоторую часть, которая полностью к базам данным не относится, но без этого выполнить задания интересно не получится.

### Задания №2

1. Необходимо сделать страничку, на которой можно в более удобном виде добавлять данные в БД. Например, хотим добавить новое семейство: там есть атрибуты: name, description & order_a_id. Сейчас, добавляя данные в таблицу семейства необходимо найти id нужного отряда и добавить его. Тут должен использоваться выпадающий список (или какой-то другой более удобных подход), в котором перечислены все названия из которых можно выбрать отряд. Совет: в тексте элемента option храните само название отряда, в атрибуте value храните id, для добавления получаете именно значение атрибута value. Также на страничке должно быть 2 текстовых элемента для возможности добавить name, description и кнопка, которая добавит все данные. После нажатия на неё все значения элементов на странице должны быть получены, сформирован JSON формат и отправлен запрос на удалённый сервер (POST API).

2. Вспомните ещё раз предыдущее задание и ... его можно забыть как страшной сон. На самом деле, это более низкоуровневый подход использования POST запроса. И важно понять эту часть, чтобы понимать вообще как оно там под капотом работает всё. В самом JS есть более удобный подход - [forms](../OracleAPI) там папка 2. Using Forms. [Forms Theory](../JS). Прочитайте материал и сделайте предыдущее задание (можно с таблицами вид и род (species, genus)) только с использованием форм. Но получить данные всё равно придётся используя XMLHttpRequest, чтобы сформировать варианты выбора в `select`.

3. В этом задании необходимо сделать возможность изменять, удалять элементы из таблицы. Необходимо из нужной таблицы вывести все данные (они должны быть в редактируемые объектах, например `<input type="text">` or `textarea`. При загрузке страницы туда необходимо положить все значения. Справа добавить кнопки: изменить, удалить. При нажатии на кнопку изменить считываются все значения из нужной строки и выполняется API (например .../animals/5, если меняем у животного с 5 ID). При нажатии на кнопку удалить происходит удаление строки. При желании можно сделать, чтобы при нажатии на кнопку удалить происходило обновление не всей страницы, а части (т.е. нужная строка просто убралась).